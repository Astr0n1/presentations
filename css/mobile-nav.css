/* ------------------------------
üì± Mobile Bottom Navigation Styles
------------------------------- */

/* Slide-up / Slide-down animation */
.mobile-lessons-bar {
	background: #ffffff; /* bg-white */
	box-shadow: 0 10px 30px rgba(2, 6, 23, 0.08); /* soft large shadow */
	border-top: 1px solid #e5e7eb; /* border-gray-200 */
	transform: translateY(0);
	transition: transform 0.35s ease-in-out;
}

/* Expanded State */
.mobile-lessons-bar.expanded {
	transform: translateY(0);
}

/* Remove default scrollbars for horizontal nav */
.no-scrollbar::-webkit-scrollbar {
	display: none;
}
.no-scrollbar {
	-ms-overflow-style: none;
	scrollbar-width: none;
}

/* Ensure the bar respects safe areas on phones with notches */
@supports (padding: max(0px)) {
	.mobile-lessons-bar {
		padding-bottom: max(env(safe-area-inset-bottom), 0.5rem);
	}
}

/* Active Lesson Tab (fallback styling in case other classes are used) */
.mobile-lesson-tab.active {
	background-color: #bfdbfe; /* blue-200 */
	border-color: #60a5fa; /* blue-400 */
	color: #1e40af; /* blue-900 */
}

/* Active Slide Button (fallback) */
.mobile-slide-btn.active {
	background-color: #3b82f6; /* blue-600 */
	border-color: #1d4ed8; /* blue-700 */
	color: white;
}

/* Arrow buttons styling */
.mobile-lessons-arrow {
	background: #ffffff;
	border-radius: 9999px;
	box-shadow: 0 6px 18px rgba(2, 6, 23, 0.08);
	border: 1px solid #e5e7eb;
	padding: 0.5rem;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	color: #374151; /* gray-700 */
	transition: transform 0.15s ease, box-shadow 0.15s ease;
}

/* Arrow buttons subtle pulse when tapped */
.mobile-lessons-arrow:active {
	transform: scale(0.92);
}

/* Smooth fade for collapsed content + padding and vertical spacing between children */
.mobile-lessons-container {
	padding: 0.5rem 0.75rem;
	transition: opacity 0.3s ease-in-out;
}

/* Emulate "space-y-2" for direct children */
.mobile-lessons-container > * + * {
	margin-top: 0.5rem;
}

.mobile-lessons-bar.collapsed .mobile-lessons-container {
	opacity: 0.4; /* more subtle background visuals */
	pointer-events: none; /* prevent accidental clicks while collapsed */
}

/* Keep edit-sidebar toggle visible when sidebar is translated off-screen (V2) */
/* we match class by substring to avoid needing to escape the leading hyphen */
.edit-sidebar[class*="-translate-x-full"] #toggle-edit-sidebar {
	position: fixed;
	left: 8px;
	top: 84px;
	z-index: 80;
	transform: none !important;
	background: #ffffff;
	border-radius: 8px;
	padding: 6px;
	box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
}

/* Mobile slide nav specific scrollbar hide targets */
#mobile-slide-nav .slides-scroll::-webkit-scrollbar,
#mobile-lessons-tabs::-webkit-scrollbar {
	display: none;
}

/* Slide squares (larger, tappable targets) */
#mobile-slide-nav .slide-square {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 48px; /* w-14 */
	height: 48px; /* h-14 */
	border-radius: 10px; /* rounded-xl */
	border: 1px solid #d1d5db; /* border-gray-300 */
	font-size: 1rem; /* text-base */
	font-weight: 500; /* font-medium */
	color: #374151; /* text-gray-700 */
	background: #ffffff; /* bg-white */
	box-shadow: 0 1px 2px rgba(2, 6, 23, 0.04);
	transition: transform 0.15s ease, background-color 0.15s ease,
		box-shadow 0.15s ease;
	padding: 0;
	min-width: 48px;
	text-align: center;
	cursor: pointer;
}

/* Hover / active affordance */
#mobile-slide-nav .slide-square:hover {
	transform: scale(1.05);
	background: #eff6ff; /* bg-blue-50 */
}

#mobile-slide-nav .slide-square.active {
	background: #2563eb; /* bg-blue-600 */
	color: #ffffff;
	border-color: #1d4ed8; /* border-blue-700 */
	box-shadow: 0 8px 24px rgba(37, 99, 235, 0.18);
	transform: scale(1.05);
}

/* Lesson tabs container - horizontally scrollable pill row */
#mobile-lessons-tabs {
	direction: ltr;

	display: flex;
	overflow-x: auto;
	gap: 0.5rem;
	padding-bottom: 0.25rem;
	white-space: nowrap;
	align-items: center;
}

/* Lesson tab buttons (pills / underline style fallback) */
#mobile-lessons-tabs .lesson-tab {
	padding: 0.5rem 0.75rem; /* px-3 py-2 */
	font-size: 0.875rem; /* text-sm */
	font-weight: 600; /* font-semibold */
	color: #374151; /* text-gray-700 */
	border-bottom: 2px solid transparent;
	white-space: nowrap;
	border-radius: 6px;
	background: transparent;
	transition: color 0.15s ease, background-color 0.15s ease,
		border-color 0.15s ease;
	cursor: pointer;
}

/* Hover and active states */
#mobile-lessons-tabs .lesson-tab:hover {
	color: #1e40af; /* blue-900 */
	background: #eff6ff; /* blue-50 */
}

#mobile-lessons-tabs .lesson-tab.active {
	border-bottom-color: #2563eb; /* border-blue-600 */
	color: #1e40af; /* text-blue-700 */
	background: #eff6ff; /* blue-50 */
}

/* Slide tray: rounded chip tray holding the slide-square items */
#mobile-slides-scroll {
	direction: ltr;
	display: flex;
	overflow-x: auto;
	gap: 0.5rem;
	padding: 0.5rem 0.5rem;
	border: 1px solid #e5e7eb;
	border-radius: 12px;
	background: #f9fafb; /* bg-gray-50 */
	margin: 0 0.25rem;
	align-items: center;
}

.mobile-lessons-bar.collapsed {
	transform: translateY(calc(100% - 42px)); /* smaller visible strip */
	background: rgba(255, 255, 255, 0.7); /* translucent strip */
	backdrop-filter: blur(6px); /* subtle glass effect */
	box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.05);
}

/* Small utility to ensure active slide buttons center nicely */
#mobile-slides-scroll .slide-square {
	flex: 0 0 auto;
}

.mobile-lessons-bar.collapsed .mobile-lessons-arrow {
	opacity: 1;
	background: rgba(255, 255, 255, 0.95);
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* ---------------------------------------------------
   üß© Mobile Slide Navigation Fixes (override Tailwind)
--------------------------------------------------- */

/* 1Ô∏è‚É£ Add safe bottom space under slide previews */
@media (max-width: 768px) {
	#slide-preview-container {
		margin-bottom: 4.5rem !important; /* prevent overlap with mobile bar */
	}
}

/* 2Ô∏è‚É£ Collapsed strip refinement */
#mobile-slide-nav.mobile-lessons-bar.collapsed {
	transform: translateY(calc(100% - 42px)) !important; /* smaller strip */
	background: rgba(255, 255, 255, 0.7) !important; /* translucent bg */
	backdrop-filter: blur(8px) !important;
	border-top: 1px solid rgba(229, 231, 235, 0.4) !important;
	box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.05) !important;
}

/* 3Ô∏è‚É£ Make its handle area lighter + smaller */
#mobile-lessons-handle {
	background: rgba(255, 255, 255, 0.5) !important;
	backdrop-filter: blur(6px);
	padding: 0.3rem 0 !important; /* smaller height */
	border-top: 1px solid rgba(229, 231, 235, 0.5);
}

/* keep the arrow fully visible and prominent */
#mobile-lessons-handle i {
	color: #374151 !important;
	opacity: 1 !important;
}

/* reduce inner section visibility when collapsed */
#mobile-slide-nav.collapsed .slides-scroll,
#mobile-slide-nav.collapsed #mobile-lessons-tabs {
	opacity: 0.4 !important;
	pointer-events: none;
}
